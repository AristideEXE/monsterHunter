<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="Lazarus SynEdit Html Exporter">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>monsterHunterForge</title>
</head>
<body text="black" bgcolor="#FFFFFF"><pre><code><font  size=3 face="Courier New"><font color="black"><b>unit </b>monsterHunterForge<font color="red">;

<b>{$mode objfpc}{$H+}

</b></font><font color="blue"><b>// ============================================================================= INTERFACE ======================================================================================
</b></font><b>interface
uses
  </b>Classes<font color="red">, </font>SysUtils<font color="red">,</font>monsterHunterArmesEtArmures<font color="red">, </font>monsterHunterForgeIHM<font color="red">;

</font><b>procedure </b>choixItemForge<font color="red">();




</font><font color="blue"><b>// =========================================================================== IMPLEMENTATION ===================================================================================
</b></font><b>implementation
uses </b>monsterHunterVille<font color="red">, </font>monsterHunterJoueur<font color="red">;

</font><b>procedure </b>forgeArmure<font color="red">();
</font><b>begin

end</b><font color="red">;

</font><b>procedure </b>forgeArme<font color="red">();
</font><b>var
  </b>i<font color="red">,</font>j <font color="red">: </font>integer<font color="red">;
  </font>arme <font color="red">: </font>typeArme<font color="red">;
  </font>armePossedee <font color="red">: </font>boolean<font color="red">;
</font><b>begin
  </b><font color="blue"><b>// AFFICHAGE DES CRAFT
  </b></font><b>for </b>i<font color="red">:=</font><font color="navy">0 </font><b>to </b>length<font color="red">(</font>craftsArmesDisponibles<font color="red">) -</font><font color="navy">1 </font><b>do
  begin
    </b><font color="blue"><b>// On récupère l'item auquel le craft fait référence
    </b></font>arme <font color="red">:= </font>armesDisponibles<font color="red">[</font>i<font color="red">];
    </font><font color="blue"><b>// On vérifie si l'item est déjà dans l'inventaire ou non
    </b></font><b>for </b>j<font color="red">:=</font><font color="navy">0 </font><b>to </b>length<font color="red">(</font>getJoueur<font color="red">.</font>armesPossedees<font color="red">) -</font><font color="navy">1 </font><b>do
    begin
      if </b>getJoueur<font color="red">.</font>armesPossedees<font color="red">[</font>j<font color="red">].</font>nom <font color="red">= </font>arme<font color="red">.</font>nom <b>then </b>afficherArmeForgeIHM<font color="red">(</font>arme<font color="red">,</font>true<font color="red">);
    </font><b>end</b><font color="red">;
  </font><b>end</b><font color="red">;
  </font>readln<font color="red">;
</font><b>end</b><font color="red">;

</font><font color="blue"><b>// ------------------------------------------------- FORGE -----------------------------------------------
</b></font><b>procedure </b>forge<font color="red">(</font>itemAAfficher <font color="red">: </font><b>string</b><font color="red">);
</font><b>begin
  </b><font color="blue"><b>// On affiche d'abord l'ihm de la forge autour
  </b></font>forgeIHM<font color="red">();

  </font><font color="blue"><b>// On cherche à savoir si on doit s'occuper des armes ou des armures
  // Si on a choisit les armes
  </b></font><b>if </b>itemAAfficher <font color="red">= </font><font color="blue">'1' </font><b>then </b>forgeArme<font color="red">()
  </font><font color="blue"><b>// Si on a choisit les armures
  </b></font><b>else </b>forgeArmure<font color="red">();
</font><b>end</b><font color="red">;

</font><font color="blue"><b>// Choix de l'iterm à afficher
</b></font><b>procedure </b>choixItemForge<font color="red">();
</font><b>var
  </b>choix <font color="red">: </font><b>string</b><font color="red">;
</font><b>begin
  </b>choix <font color="red">:= </font>choixItemForgeIHM<font color="red">();
  </font><b>if </b>choix <font color="red">= </font><font color="blue">'0' </font><b>then </b>ville<font color="red">()
  </font><b>else if </b><font color="red">(</font>choix <font color="red">= </font><font color="blue">'1'</font><font color="red">) </font><b>or </b><font color="red">(</font>choix <font color="red">= </font><font color="blue">'2'</font><font color="red">) </font><b>or </b><font color="red">(</font>choix <font color="red">= </font><font color="blue">'3'</font><font color="red">) </font><b>or </b><font color="red">(</font>choix <font color="red">= </font><font color="blue">'4'</font><font color="red">) </font><b>or </b><font color="red">(</font>choix <font color="red">= </font><font color="blue">'5'</font><font color="red">) </font><b>or </b><font color="red">(</font>choix <font color="red">= </font><font color="blue">'6'</font><font color="red">) </font><b>then </b>forge<font color="red">(</font>choix<font color="red">)
  </font><b>else </b>choixItemForge<font color="red">();
</font><b>end</b><font color="red">;

</font><b>end</b><font color="red">.

</font></font>
</code></pre>
</body>
</html>